//
// Created by Gustavo Viegas on 2017/02
//

function TEST_UNITS(da) {
  da.collections.units.insert({
    id: 'u1@units',
    location: {type: 'Point', coordinates: [-0.127102, 51.511067]},
    data: [
      {time: '2016-10-15', value: 8.8},
      {time: '2016-10-16', value: 8.3},
      {time: '2016-10-17', value: 8.8},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 9.1}
    ]
  });

  da.collections.units.insert({
    id: 'u2@units',
    location: {type: 'Point', coordinates: [-0.127064, 51.511182]},
    data: [
      {time: '2016-10-11', value: 12},
      {time: '2016-10-12', value: 11.8},
      {time: '2016-10-13', value: 11.9},
      {time: '2016-10-14', value: 12.5},
      {time: '2016-10-15', value: 12.8}
    ]
  });

  da.collections.units.insert({
    id: 'u3@units',
    location: {type: 'Point', coordinates: [-0.127153, 51.511296]},
    data: [
      {time: '2016-10-10', value: 5.4},
      {time: '2016-10-11', value: 4},
      {time: '2016-10-12', value: 3.2}
    ]
  });

  da.collections.units.insert({
    id: 'u4@units',
    location: {type: 'Point', coordinates: [-0.127109, 51.511472]},
    data: [
      {time: '2016-10-17', value: 7.5},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 8.1}
    ]
  });

  da.collections.units.insert({
    id: 'u5@units',
    location: {type: 'Point', coordinates: [-0.127144, 51.511636]},
    data: [
      {time: '2016-10-19', value: 5.5}
    ]
  });
  da.collections.units.insert({
    id: 'u6@units',
    location: {type: 'Point', coordinates: [-0.127254, 51.511788]},
    data: [
      {time: '2016-10-10', value: 10},
      {time: '2016-10-11', value: 9},
      {time: '2016-10-12', value: 9.1},
      {time: '2016-10-13', value: 9.7},
      {time: '2016-10-14', value: 8.9},
      {time: '2016-10-15', value: 8.8},
      {time: '2016-10-16', value: 8.3},
      {time: '2016-10-17', value: 8.8},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 9.1}
    ]
  });

  da.collections.units.insert({
    id: 'u7@units',
    location: {type: 'Point', coordinates: [-0.127391, 51.511728]},
    data: [
      {time: '2016-10-10', value: 14.1},
      {time: '2016-10-11', value: 12},
      {time: '2016-10-12', value: 11.8},
      {time: '2016-10-13', value: 11.9},
      {time: '2016-10-14', value: 12.5},
      {time: '2016-10-15', value: 12.8}
    ]
  });

  da.collections.units.insert({
    id: 'u8@units',
    location: {type: 'Point', coordinates: [-0.127517, 51.511655]},
    data: [
      {time: '2016-10-10', value: 5.4},
      {time: '2016-10-11', value: 4},
      {time: '2016-10-12', value: 3.2}
    ]
  });

  da.collections.units.insert({
    id: 'u9@units',
    location: {type: 'Point', coordinates: [-0.127707, 51.511627]},
    data: [
      {time: '2016-10-17', value: 7.5},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 8.1}
    ]
  });

  da.collections.units.insert({
    id: 'u10@units',
    location: {type: 'Point', coordinates: [-0.127849, 51.511545]},
    data: [

    ]
  });
  da.collections.units.insert({
    id: 'u11@units',
    location: {type: 'Point', coordinates: [-0.128186, 51.511429]},
    data: [
      {time: '2016-10-12', value: 9.1},
      {time: '2016-10-13', value: 9.7},
      {time: '2016-10-14', value: 8.9},
      {time: '2016-10-15', value: 8.8},
      {time: '2016-10-16', value: 8.3},
    ]
  });

  da.collections.units.insert({
    id: 'u12@units',
    location: {type: 'Point', coordinates: [-0.128374, 51.511297]},
    data: [
      {time: '2016-10-10', value: 14.1},
      {time: '2016-10-11', value: 12},
      {time: '2016-10-12', value: 11.8},
      {time: '2016-10-13', value: 11.9},
      {time: '2016-10-14', value: 12.5},
      {time: '2016-10-15', value: 12.8}
    ]
  });

  da.collections.units.insert({
    id: 'u13@units',
    location: {type: 'Point', coordinates: [-0.128436, 51.511192]},
    data: [
      {time: '2016-10-10', value: 5.4},
      {time: '2016-10-11', value: 4},
      {time: '2016-10-12', value: 3.2}
    ]
  });

  da.collections.units.insert({
    id: 'u14@units',
    location: {type: 'Point', coordinates: [-0.128471, 51.511042]},
    data: [
      {time: '2016-10-17', value: 7.5},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 8.1}
    ]
  });

  da.collections.units.insert({
    id: 'u15@units',
    location: {type: 'Point', coordinates: [-0.128377, 51.510947]},
    data: [

    ]
  });
  da.collections.units.insert({
    id: 'u16@units',
    location: {type: 'Point', coordinates: [-0.128390, 51.510822]},
    data: [
      {time: '2016-10-15', value: 8.8},
      {time: '2016-10-16', value: 8.3},
      {time: '2016-10-17', value: 8.8},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 9.1}
    ]
  });

  da.collections.units.insert({
    id: 'u17@units',
    location: {type: 'Point', coordinates: [-0.128366, 51.510717]},
    data: [
      {time: '2016-10-10', value: 14.1},
      {time: '2016-10-11', value: 12},
      {time: '2016-10-12', value: 11.8},
      {time: '2016-10-13', value: 11.9},
      {time: '2016-10-14', value: 12.5},
      {time: '2016-10-15', value: 12.8}
    ]
  });

  da.collections.units.insert({
    id: 'u18@units',
    location: {type: 'Point', coordinates: [-0.128194, 51.510720]},
    data: [
      {time: '2016-10-10', value: 5.4},
      {time: '2016-10-11', value: 4},
      {time: '2016-10-12', value: 3.2}
    ]
  });

  da.collections.units.insert({
    id: 'u19@units',
    location: {type: 'Point', coordinates: [-0.127937, 51.510725]},
    data: [
      {time: '2016-10-17', value: 7.5},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 8.1}
    ]
  });

  da.collections.units.insert({
    id: 'u20@units',
    location: {type: 'Point', coordinates: [-0.127792, 51.510730]},
    data: [

    ]
  });

  // da.collections.units.deleteAll();

  // da.collections.units.queryIgnoreData(['d@units', 'b@units'], (err, docs) => {
  //   console.log('filtered units:');
  //   console.log(docs);
  // });

  da.collections.units.queryAll((err, docs) => {
    console.log('units:');
    console.log(docs);
  });
}


function TEST_VDATA(da) {
  da.collections.vdata.insert({
    id: 'a@units',
    location: {type: 'Point', coordinates: [-0.127102, 51.511067]},
    data: [{time: '2016-10-19', value: 10.1}]
  });

  da.collections.vdata.insert({
    id: 'b@units',
    location: {type: 'Point', coordinates: [-0.127064, 51.511182]},
    data: [{time: '2016-10-15', value: 13.8}]
  });

  da.collections.vdata.insert({
    id: 'c@units',
    location: {type: 'Point', coordinates: [-0.127153, 51.511296]},
    data: [{time: '2016-10-12', value: 7.2}]
  });

  da.collections.vdata.insert({
    id: 'd@units',
    location: {type: 'Point', coordinates: [-0.127109, 51.511472]},
    data: [{time: '2016-10-19', value: 8.1}]
  });

  da.collections.vdata.insert({
    id: 'e@units',
    location: {type: 'Point', coordinates: [-0.127144, 51.511636]},
    data: [{time: '2016-10-19', value: 3.5}]
  });

  da.collections.vdata.insert({
    id: 'f@units',
    location: {type: 'Point', coordinates: [-0.127254, 51.511788]},
    data: [{time: '2016-10-19', value: 2.1}]
  });

  da.collections.vdata.insert({
    id: 'g@units',
    location: {type: 'Point', coordinates: [-0.127391, 51.511728]},
    data: [{time: '2016-10-15', value: 15.8}]
  });

  da.collections.vdata.insert({
    id: 'h@units',
    location: {type: 'Point', coordinates: [-0.127517, 51.511655]},
    data: [
  {time: '2016-10-10', value: 5.4}]
  });

  da.collections.vdata.insert({
    id: 'i@units',
    location: {type: 'Point', coordinates: [-0.127707, 51.511627]},
    data: [
      {time: '2016-10-17', value: 7.5},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 5.1}
    ]
  });

  da.collections.vdata.insert({
    id: 'j@units',
    location: {type: 'Point', coordinates: [-0.127849, 51.511545]},
    data: [
      {time: '2016-10-19', value: 17.5}
    ]
  });
  da.collections.vdata.insert({
    id: 'k@units',
    location: {type: 'Point', coordinates: [-0.128186, 51.511429]},
    data: [
      {time: '2016-10-10', value: 10},
      {time: '2016-10-11', value: 9},
      {time: '2016-10-12', value: 9.1},
      {time: '2016-10-13', value: 9.7},
      {time: '2016-10-14', value: 8.9},
      {time: '2016-10-15', value: 8.8},
      {time: '2016-10-16', value: 8.3},
      {time: '2016-10-17', value: 8.8},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 19}
    ]
  });

  da.collections.vdata.insert({
    id: 'l@units',
    location: {type: 'Point', coordinates: [-0.128374, 51.511297]},
    data: [
      {time: '2016-10-10', value: 14.1},
      {time: '2016-10-11', value: 12},
      {time: '2016-10-12', value: 11.8},
      {time: '2016-10-13', value: 11.9},
      {time: '2016-10-14', value: 12.5},
      {time: '2016-10-15', value: 13.6}
    ]
  });

  da.collections.vdata.insert({
    id: 'm@units',
    location: {type: 'Point', coordinates: [-0.128436, 51.511192]},
    data: [
      {time: '2016-10-10', value: 5.4},
      {time: '2016-10-11', value: 4},
      {time: '2016-10-12', value: 3.8}
    ]
  });

  da.collections.vdata.insert({
    id: 'n@units',
    location: {type: 'Point', coordinates: [-0.128471, 51.511042]},
    data: [
      {time: '2016-10-17', value: 7.5},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 6.1}
    ]
  });

  da.collections.vdata.insert({
    id: 'o@units',
    location: {type: 'Point', coordinates: [-0.128377, 51.510947]},
    data: [
      {time: '2016-10-17', value: 1.5}
    ]
  });
  da.collections.vdata.insert({
    id: 'p@units',
    location: {type: 'Point', coordinates: [-0.128390, 51.510822]},
    data: [
      {time: '2016-10-10', value: 10},
      {time: '2016-10-11', value: 9},
      {time: '2016-10-12', value: 9.1},
      {time: '2016-10-13', value: 9.7},
      {time: '2016-10-14', value: 8.9},
      {time: '2016-10-15', value: 8.8},
      {time: '2016-10-16', value: 8.3},
      {time: '2016-10-17', value: 8.8},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 5.1}
    ]
  });

  da.collections.vdata.insert({
    id: 'q@units',
    location: {type: 'Point', coordinates: [-0.128366, 51.510717]},
    data: [
      {time: '2016-10-10', value: 14.1},
      {time: '2016-10-11', value: 12},
      {time: '2016-10-12', value: 11.8},
      {time: '2016-10-13', value: 11.9},
      {time: '2016-10-14', value: 12.5},
      {time: '2016-10-15', value: 2.8}
    ]
  });

  da.collections.vdata.insert({
    id: 'r@units',
    location: {type: 'Point', coordinates: [-0.128194, 51.510720]},
    data: [
      {time: '2016-10-10', value: 5.4},
      {time: '2016-10-11', value: 4},
      {time: '2016-10-12', value: 4.2}
    ]
  });

  da.collections.vdata.insert({
    id: 's@units',
    location: {type: 'Point', coordinates: [-0.127937, 51.510725]},
    data: [
      {time: '2016-10-17', value: 7.5},
      {time: '2016-10-18', value: 8.5},
      {time: '2016-10-19', value: 3.1}
    ]
  });

  da.collections.vdata.insert({
    id: 't@units',
    location: {type: 'Point', coordinates: [-0.127792, 51.510730]},
    data: [
      {time: '2016-10-17', value: 4.5}
    ]
  });

  // da.collections.vdata.deleteAll();

  da.collections.vdata.queryAll((err, docs) => {
    console.log('vdata:');
    console.log(docs);
  });
}

exports.TEST_UNITS = TEST_UNITS;
exports.TEST_VDATA = TEST_VDATA;
